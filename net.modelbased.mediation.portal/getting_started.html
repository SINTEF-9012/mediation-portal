<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Aug 15, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Mediation Portal - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120815" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
                
                    
    
        <div class="container-fluid">
          
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="projectVersion">Version: 0.0.1-SNAPSHOT</li>
              
                
            
                  <li id="publishDate" class="pull-right">Last Published: 2012-08-15</li> 
            
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
            
                                   <h5>User Manual</h5>
                  <ul>
                  <li class="none">
            <strong>Getting Started</strong>
          </li>
                                                                                                        <li class="collapsed">
                          <a href="architecture.html" title="Repositories">Repositories</a>
                  </li>
                  <li class="none">
                          <a href="mediator.html" title="Mediator Service">Mediator Service</a>
            </li>
                  <li class="none">
                          <a href="comparator.html" title="Comparator Service">Comparator Service</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
            
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h1>Getting Started</h1><p>Mediating between to models, (XML schemas so far) is a 3-step process:</p>
<ol style="list-style-type: decimal">
  <li>Publish the models that you want to mediate between</li>
  <li>Send a mediation request to the mediation portal</li>
  <li>(Optional) Evaluate the resulting mapping against an existing mapping</li>
</ol><p>Each of these three steps are available through REST services, and can thus be called from any artifact communicate over HTTP (program, browser, etc.) </p><div class="section"><h2>Publishing Models<a name="Publishing_Models"></a></h2><p>The mediation portal provides users with a model repository in which they can publish models identified by a name. This model repository is available at the following address:</p>
<div class="source"><pre class="prettyprint linenums">http://localhost:8080/mediation/repositories/models
</pre></div><p>To publish a new model in the repository, just send an HTTP POST request, to the repository, with the following JSON body. </p>
<div class="source"><pre class="prettyprint linenums">{
    &quot;name&quot;: &quot;my-model&quot;,
    &quot;content&quot;: &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt; ...&quot;
}
</pre></div><p>A HTTP GET request sent at the following URL will let you retrieve your model: </p><p><a class="externalLink" href="http://localhost:8080/mediation/repositories/models/my-model">http://localhost:8080/mediation/repositories/models/my-model</a></p></div><div class="section"><h2>Running a Mediation<a name="Running_a_Mediation"></a></h2><p>Triggering a mediation is done as well by sending specific request to the mediation portal. The key point is that mediation are only available between models that have been previously published in the repository. Below is the sample request that can be send to the mediation-portal at <a class="externalLink" href="http://localhost:8080/mediator">http://localhost:8080/mediator</a>:</p>
<div class="source"><pre class="prettyprint linenums">{ 
    &quot;source&quot;: &quot;model1&quot;, 
    &quot;target&quot;: &quot;model2&quot;, 
    &quot;algorithm&quot;:&quot;syntactic&quot; 
}  
</pre></div><p>Triggering a mediation will generate a mapping between the model elements of the two models elements. This mapping is identified by a unique ID, such as <tt>7ba5cfd1-8b43-4292-892a-b32281ef4189</tt> and is available in a specific repository on the mediation portal </p><p><a class="externalLink" href="http://localhost:8080/mediation/repositories/mappings/7ba5cfd1-8b43-4292-892a-b32281ef4189">http://localhost:8080/mediation/repositories/mappings/7ba5cfd1-8b43-4292-892a-b32281ef4189</a></p></div><div class="section"><h2>Evaluation of a Mapping<a name="Evaluation_of_a_Mapping"></a></h2><p>In case you are trying to evaluate the relevance of a given mediation algorithm on a given case study, you may want to evaluate the performance (typically metrics such as precision, recall and f-measure). This is possible using the comparator service, which given two mappings (one being considered as the oracle, or the reference&quot;) will provide you with the relevant performance hints.</p><p>This service can be trigger by sending a POST request at <a class="externalLink" href="http://localhost:8080/comparator">http://localhost:8080/comparator</a> with the following JSON body:</p>
<div class="source"><pre class="prettyprint linenums">{
    &quot;oracle&quot;: &quot;mapping1&quot;,
    &quot;mapping&quot;: &quot;mapping2&quot;,
    &quot;note&quot;: &quot;This is a test of the comparator service&quot;
}
</pre></div></div><div class="section"><h2>Creating you Own Complex Mediation Algorithm<a name="Creating_you_Own_Complex_Mediation_Algorithm"></a></h2><p>Last but not least, the mediation portal let you create your own mediation algorithm by combining existing ones as well as various predefined functions (including string matching, vectors distance, etc.). The framework let you create 5 type of alrgorithms that you will then be able to combine:</p>
<ul>
  <li><i>Mediation</i>, which basically accepts two models, one mapping, and refine the mapping  based on a specific analysis of the two given models.</li>
  <li><i>ModelProcessor</i>, process a single models and produces a alternate version of it.  Various common processing such pruning, relabelling, translating fall in this category.</li>
  <li><i>MappingAggregator</i>, which accepts as input a list of mapping and produce a single  one using a specific algorithm.</li>
  <li><i>ModelAggregator</i>, which accepts as input a list of models and produce a single  one based on specific criterions.</li>
</ul><p>To create your own mediation algorithm, you will have to:</p>
<ol style="list-style-type: decimal">
  <li>Create you a Scala class that extends some specific classes amd traits of the mediation framework</li>
  <li>Register your algorithm in the mediation portal</li>
</ol><p>Below is an example of such a composite mediation:</p>
<div class="source"><pre class="prettyprint linenums">import net.modelbased.mediation.library.algorithm._
import net.modelbased.mediation.service.repository.mapping.data.Mapping
import net.modelbased.mediation.service.repository.model.data.Model

class SampleMediation extends Mediation {

  // We import the standard library of mediation algorithms 
  import net.modelbased.mediation.library.algorithm.Commons._

  /*
   * Here, we override the behaviour of the mediation, by running a syntactic
   * match on one side, a semantic match on the other side, and finally merging the
   * two results by selecting the most relevant entries. 
   */
  override def execute(in: Mapping, source: Model, target: Model) = {
    val m1 = syntacticMatch(in, source, target)
    val m2 = randomMatch(in, source, target)
    val result = aggregateByMax(Set(m1, m2))
  }

}
</pre></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2012
                        <a href="http://modelbased.net">SINTEF ICT / MOD team</a>.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
